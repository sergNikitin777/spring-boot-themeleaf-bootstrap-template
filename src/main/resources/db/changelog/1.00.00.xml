<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">



    <changeSet author="vyudintsev (generated)" id="1530260293979-1">
        <createTable tableName="ADM_USER">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="ADM_USERPK"/>
            </column>
            <column name="created" type="timestamp"/>
            <column name="updated" type="timestamp"/>
            <column name="EMAIL" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="isENABLED" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="isLOCKED" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="PWD" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="USERNAME" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-2">
        <createTable tableName="ADM_USER_Task">
            <column name="ADM_USER_id" type="INT4">
                <constraints nullable="false"/>
            </column>
            <column name="taskList_id" type="INT4">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-3">
        <createTable tableName="Address">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="AddressPK"/>
            </column>
            <column name="accsess" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="latitude" type="FLOAT4"/>
            <column name="longitude" type="FLOAT4"/>
            <column name="mark" type="VARCHAR(255)"/>
            <column name="model" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="type" type="VARCHAR(255)"/>
            <column name="parent_id" type="INT4"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-4">
        <createTable tableName="Device">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="DevicePK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="electricityAccess" type="BOOLEAN"/>
            <column name="heightAccess" type="BOOLEAN"/>
            <column name="mark" type="VARCHAR(255)"/>
            <column name="model" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="address_id" type="INT4"/>
            <column name="deviceGroup_id" type="INT4"/>
            <column name="status_id" type="INT4"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-5">
        <createTable tableName="DeviceGroup">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="DeviceGroupPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-6">
        <createTable tableName="DeviceStatus">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="DeviceStatusPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-7">
        <createTable tableName="Employee">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="EmployeePK"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="patronymic" type="VARCHAR(255)"/>
            <column name="position" type="VARCHAR(255)"/>
            <column name="surname" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-8">
        <createTable tableName="NFCLabel">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="NFCLabelPK"/>
            </column>
            <column name="latitude" type="FLOAT4"/>
            <column name="longitude" type="FLOAT4"/>
            <column name="uid" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-9">
        <createTable tableName="Operation">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="OperationPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-10">
        <createTable tableName="OperationGroup">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="OperationGroupPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-11">
        <createTable tableName="OperationGroup_Operation">
            <column name="OperationGroup_id" type="INT4">
                <constraints nullable="false"/>
            </column>
            <column name="operationList_id" type="INT4">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-12">
        <createTable tableName="OperationLog">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="OperationLogPK"/>
            </column>
            <column name="creationDate" type="timestamp"/>
            <column name="status" type="VARCHAR(255)"/>
            <column name="device_id" type="INT4"/>
            <column name="employee_id" type="INT4"/>
            <column name="operation_id" type="INT4"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-13">
        <createTable tableName="QRLabel">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="QRLabelPK"/>
            </column>
            <column name="latitude" type="FLOAT4"/>
            <column name="longitude" type="FLOAT4"/>
            <column name="uid" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-14">
        <createTable tableName="Task">
            <column autoIncrement="true" name="id" type="INT4">
                <constraints primaryKey="true" primaryKeyName="TaskPK"/>
            </column>
            <column name="startDate" type="BYTEA"/>
            <column name="user_id" type="INT4"/>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-15">
        <createTable tableName="Task_OperationGroup">
            <column name="Task_id" type="INT4">
                <constraints nullable="false"/>
            </column>
            <column name="operationGroupList_id" type="INT4">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-16">
        <createTable tableName="persistent_logins">
            <column name="SERIES" type="VARCHAR(64)">
                <constraints nullable="false"/>
            </column>
            <column name="LAST_USED" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="TOKEN" type="VARCHAR(64)">
                <constraints nullable="false"/>
            </column>
            <column name="USERNAME" type="VARCHAR(64)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-17">
        <createTable tableName="user_role">
            <column name="user_id" type="INT4">
                <constraints nullable="false"/>
            </column>
            <column name="role" type="INT4">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-18">
        <addPrimaryKey columnNames="SERIES" constraintName="persistent_loginsPK" tableName="persistent_logins"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-19">
        <addUniqueConstraint columnNames="EMAIL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="ADM_USER"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-20">
        <addUniqueConstraint columnNames="USERNAME" deferrable="false" disabled="false" initiallyDeferred="false" tableName="ADM_USER"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-21">
        <addUniqueConstraint columnNames="taskList_id" deferrable="false" disabled="false" initiallyDeferred="false" tableName="ADM_USER_Task"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-22">
        <addUniqueConstraint columnNames="operationList_id" deferrable="false" disabled="false" initiallyDeferred="false" tableName="OperationGroup_Operation"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-23">
        <addUniqueConstraint columnNames="operationGroupList_id" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Task_OperationGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-24">
        <addUniqueConstraint columnNames="id" constraintName="UC_ADDRESSID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Address"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-25">
        <addUniqueConstraint columnNames="id" constraintName="UC_DEVICEGROUPID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="DeviceGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-26">
        <addUniqueConstraint columnNames="id" constraintName="UC_DEVICEID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Device"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-27">
        <addUniqueConstraint columnNames="id" constraintName="UC_DEVICESTATUSID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="DeviceStatus"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-28">
        <addUniqueConstraint columnNames="id" constraintName="UC_EMPLOYEEID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Employee"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-29">
        <addUniqueConstraint columnNames="id" constraintName="UC_NFCLABELID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="NFCLabel"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-30">
        <addUniqueConstraint columnNames="id" constraintName="UC_OPERATIONGROUPID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="OperationGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-31">
        <addUniqueConstraint columnNames="id" constraintName="UC_OPERATIONID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Operation"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-32">
        <addUniqueConstraint columnNames="id" constraintName="UC_OPERATIONLOGID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="OperationLog"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-33">
        <addUniqueConstraint columnNames="SERIES" constraintName="UC_PERSISTENT_LOGINSSERIES_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="persistent_logins"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-34">
        <addUniqueConstraint columnNames="id" constraintName="UC_QRLABELID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="QRLabel"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-35">
        <addUniqueConstraint columnNames="id" constraintName="UC_TASKID_COL" deferrable="false" disabled="false" initiallyDeferred="false" tableName="Task"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-36">
        <addForeignKeyConstraint baseColumnNames="ADM_USER_id" baseTableName="ADM_USER_Task" constraintName="FK_324th9ry1262ytbrvewj0eunr" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="ADM_USER"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-37">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="Address" constraintName="FK_7r7ad1s1eyqh6fg67s6kgqg0c" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Address"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-38">
        <addForeignKeyConstraint baseColumnNames="operationGroupList_id" baseTableName="Task_OperationGroup" constraintName="FK_946h9vb3p3gsp4mh264i3eacb" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="OperationGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-39">
        <addForeignKeyConstraint baseColumnNames="device_id" baseTableName="OperationLog" constraintName="FK_a69b6c8mkuqg2quhkxbc2ocus" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Device"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-40">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_role" constraintName="FK_apcc8lxk2xnug8377fatvbn04" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="ADM_USER"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-41">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="Task" constraintName="FK_bft4wex5me5u2563628d52ktu" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="ADM_USER"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-42">
        <addForeignKeyConstraint baseColumnNames="taskList_id" baseTableName="ADM_USER_Task" constraintName="FK_dkm4ytc2cq5m2i4s2ss76ecfs" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Task"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-43">
        <addForeignKeyConstraint baseColumnNames="operation_id" baseTableName="OperationLog" constraintName="FK_f22m1s06du20pu4alfavunrvo" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Operation"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-44">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="Device" constraintName="FK_kqmnh5e74yav5ne0jotg24jhn" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Address"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-45">
        <addForeignKeyConstraint baseColumnNames="employee_id" baseTableName="OperationLog" constraintName="FK_md0rc1rj6y9byj16am5v0qx79" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Employee"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-46">
        <addForeignKeyConstraint baseColumnNames="operationList_id" baseTableName="OperationGroup_Operation" constraintName="FK_qqibv0jljt74otebpph11s80n" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Operation"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-47">
        <addForeignKeyConstraint baseColumnNames="Task_id" baseTableName="Task_OperationGroup" constraintName="FK_re9llc42sxm032dyahwc4wvwn" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Task"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-48">
        <addForeignKeyConstraint baseColumnNames="OperationGroup_id" baseTableName="OperationGroup_Operation" constraintName="FK_rkp1li382vm4vu55u9qeo4d6l" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="OperationGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-49">
        <addForeignKeyConstraint baseColumnNames="deviceGroup_id" baseTableName="Device" constraintName="FK_rluvwv9rxhwh4hsjs9m3rb4ns" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="DeviceGroup"/>
    </changeSet>
    <changeSet author="vyudintsev (generated)" id="1530260293979-50">
        <addForeignKeyConstraint baseColumnNames="status_id" baseTableName="Device" constraintName="FK_s2mrbjdhjjw902ir13fujbgmk" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="DeviceStatus"/>
    </changeSet>

</databaseChangeLog>
